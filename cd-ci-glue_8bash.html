<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>cd-ci-glue: src/cd-ci-glue.bash File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cd-ci-glue
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cd-ci-glue.bash File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad017448657e3c20940e5c30cadd02804"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#ad017448657e3c20940e5c30cadd02804">is_travis_branch_push</a> (branch)</td></tr>
<tr class="memdesc:ad017448657e3c20940e5c30cadd02804"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if invoked from Travis CI on specific branch.  <a href="#ad017448657e3c20940e5c30cadd02804">More...</a><br/></td></tr>
<tr class="separator:ad017448657e3c20940e5c30cadd02804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327598396a1b40c158f4c83c104dde9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a327598396a1b40c158f4c83c104dde9d">is_travis_master_push</a> ()</td></tr>
<tr class="separator:a327598396a1b40c158f4c83c104dde9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a504f91b67c21070633c30965a6398f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a8a504f91b67c21070633c30965a6398f">dockerhub_push_image</a> (image)</td></tr>
<tr class="memdesc:a8a504f91b67c21070633c30965a6398f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push image to Docker Hub.  <a href="#a8a504f91b67c21070633c30965a6398f">More...</a><br/></td></tr>
<tr class="separator:a8a504f91b67c21070633c30965a6398f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c5df6586f9a2224c0f69d3e24480699"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a8c5df6586f9a2224c0f69d3e24480699">dockerhub_set_description</a> (repository, filename)</td></tr>
<tr class="separator:a8c5df6586f9a2224c0f69d3e24480699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635535913bb417dc82541522258f1a95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a635535913bb417dc82541522258f1a95">github_wiki_prepare</a> (repository)</td></tr>
<tr class="separator:a635535913bb417dc82541522258f1a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d4adba8cbc868de2f7e727fd6cb178"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a49d4adba8cbc868de2f7e727fd6cb178">github_pages_prepare</a> (repository)</td></tr>
<tr class="separator:a49d4adba8cbc868de2f7e727fd6cb178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c61403f600caead4e65d0cadef072a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a85c61403f600caead4e65d0cadef072a">github_doc_commit</a> (dir)</td></tr>
<tr class="separator:a85c61403f600caead4e65d0cadef072a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568b5c1980de49f8ca9cca1d271d2344"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a568b5c1980de49f8ca9cca1d271d2344">github_wiki_commit</a> (dir)</td></tr>
<tr class="separator:a568b5c1980de49f8ca9cca1d271d2344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6eb88fdada2bfc97f9322a369be4e14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#ab6eb88fdada2bfc97f9322a369be4e14">awsecr_login</a> ()</td></tr>
<tr class="separator:ab6eb88fdada2bfc97f9322a369be4e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b4f1100a1dce00308dff41db35961a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cd-ci-glue_8bash.html#a70b4f1100a1dce00308dff41db35961a">awsecr_push_image</a> (image)</td></tr>
<tr class="separator:a70b4f1100a1dce00308dff41db35961a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Martin Kjellstrand <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'ti'+'n.k'+'je'+'lls'+'tr'+'and'+'@m'+'adw'+'or'+'x.s'+'e'; return false;">marti<span style="display: none;">.nosp@m.</span>n.kj<span style="display: none;">.nosp@m.</span>ellst<span style="display: none;">.nosp@m.</span>rand<span style="display: none;">.nosp@m.</span>@madw<span style="display: none;">.nosp@m.</span>orx.<span style="display: none;">.nosp@m.</span>se</a> </dd></dl>
<dl class="section user"><dt>URL</dt><dd><a href="https://github.com/madworx/cd-ci-glue">https://github.com/madworx/cd-ci-glue</a> <br/>
</dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab6eb88fdada2bfc97f9322a369be4e14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">awsecr_login </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Environment variables</dt><dd><b>AWS_ACCESS_KEY_ID</b> <br/>
 <b>AWS_SECRET_ACCESS_KEY</b> <br/>
 <b>AWS_DEFAULT_REGION</b> <br/>
 </dd></dl>
<dl class="section user"><dt>Example</dt><dd><code>$ REGISTRY_URL="$(awsecr_login)" || exit 1</code> <br/>
<code>$ docker run "${REGISTRY_URL}/madworx/robotframework-kicadlibrary"</code> <br/>
 Login to Amazon Elastic Container Registry. (ECR) </dd></dl>

</div>
</div>
<a class="anchor" id="a70b4f1100a1dce00308dff41db35961a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">awsecr_push_image </td>
          <td>(</td>
          <td class="paramtype">image&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Image identifier (e.g. `madworx/docshell:3.14') </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>AWS_ACCESS_KEY_ID</b> <br/>
 <b>AWS_SECRET_ACCESS_KEY</b> <br/>
 <b>AWS_DEFAULT_REGION</b> <br/>
 </dd></dl>
<dl class="section user"><dt>Example</dt><dd><code>$ docker build -t madworx/sample:1.0.1 .</code> <br/>
<code>$ FULL_PATH="$(awsecr_push_image madworx/sample:1.0.1)" || exit 1</code> <br/>
<code>$ docker run "${FULL_PATH}"</code></dd></dl>
<p>Push a locally built docker image to Amazon ECR. This function will as a side-effect tag the local image with the ECR remote registry URL prefix. </p>

</div>
</div>
<a class="anchor" id="a8a504f91b67c21070633c30965a6398f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dockerhub_push_image </td>
          <td>(</td>
          <td class="paramtype">image&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push image to Docker Hub. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Image to push. (e.g. <code>madworx/debian-archive:lenny</code>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>DOCKER_USERNAME</b> Valid username for Docker Hub. <br/>
 <b>DOCKER_PASSWORD</b> Valid password for Docker Hub. <br/>
</dd></dl>
<p>Push a docker image from the local machine to the Docker Hub repository, logging in using the <code>$DOCKER_USERNAME</code> and <code>$DOCKER_PASSWORD</code> environment variables. You need to have tagged this image beforehand e.g. docker tag.</p>
<dl class="section user"><dt>Example</dt><dd><code>$ docker build -t madworx/debian-archive:lenny-04815d2 .</code> <br/>
<em>...perform testing of built docker image....</em> <br/>
<code>$ docker tag madworx/debian-archive:lenny-04815d2 madworx/debian-archive:lenny</code> <br/>
<code>$ dockerhub_push_image madworx/debian-archive:lenny</code> <br/>
</dd></dl>

</div>
</div>
<a class="anchor" id="a8c5df6586f9a2224c0f69d3e24480699"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dockerhub_set_description </td>
          <td>(</td>
          <td class="paramtype">repository&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">filename&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">repository</td><td>Repository name; e.g. <code>madworx/docshell</code>. </td></tr>
    <tr><td class="paramname">filename</td><td>Filename/path containing description; e.g. <code>README.md</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>DOCKER_USERNAME</b> Valid username for Docker Hub. <br/>
 <b>DOCKER_PASSWORD</b> Valid password for Docker Hub. <br/>
 </dd></dl>
<dl class="section user"><dt>Example</dt><dd><code>$ git clone <a href="https://github.com/madworx/docshell">https://github.com/madworx/docshell</a></code> <br/>
<code>$ cd docshell</code> <br/>
<code>$ dockerhub_set_description madworx/docshell README.md</code> <br/>
</dd></dl>

</div>
</div>
<a class="anchor" id="a85c61403f600caead4e65d0cadef072a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">github_doc_commit </td>
          <td>(</td>
          <td class="paramtype">dir&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>Temporary directory returned from previous call to github_(pages/wiki)_prepare(). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>GH_TOKEN</b> Valid GitHub personal access token. <br/>
</dd></dl>
<p>Commit previously prepared documentation </p>

</div>
</div>
<a class="anchor" id="a49d4adba8cbc868de2f7e727fd6cb178"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">github_pages_prepare </td>
          <td>(</td>
          <td class="paramtype">repository&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">repository</td><td>Name of GitHub repository; e.g. <code>madworx/docshell</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>GH_TOKEN</b> Valid GitHub personal access token. <br/>
</dd></dl>
<p>Outputs the temporary directory of the gh-pages branch. </p>

</div>
</div>
<a class="anchor" id="a568b5c1980de49f8ca9cca1d271d2344"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">github_wiki_commit </td>
          <td>(</td>
          <td class="paramtype">dir&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This function is deprecated. Use the generic <code>github_doc_commit</code> function instead. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>Temporary directory returned from previous call to github_(pages/wiki)_prepare(). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>GH_TOKEN</b> Valid GitHub personal access token. <br/>
</dd></dl>
</dd></dl>
<p>Commit previously prepared wiki directory. </p>

</div>
</div>
<a class="anchor" id="a635535913bb417dc82541522258f1a95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">github_wiki_prepare </td>
          <td>(</td>
          <td class="paramtype">repository&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">repository</td><td>Name of GitHub repository; e.g. <code>madworx/docshell</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>GH_TOKEN</b> Valid GitHub personal access token. <br/>
</dd></dl>
<p>Outputs the temporary directory name you're supposed to put the Wiki files into. </p>

</div>
</div>
<a class="anchor" id="ad017448657e3c20940e5c30cadd02804"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_travis_branch_push </td>
          <td>(</td>
          <td class="paramtype">branch&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if invoked from Travis CI on specific branch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">branch</td><td>Branch name to compare to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Environment variables</dt><dd><b>TRAVIS_EVENT_TYPE</b> Variable set by Travis CI during build-time, indicating event type. <br/>
 <b>TRAVIS_BRANCH</b> Variable set by Travis CI during build-time, indicating which branch we're on. <br/>
</dd></dl>
<p>Return a zero status code if this is refering to a push on the branch given as argument. If any of the required environment variables are missing, will emit error message on stderr, but containue anyway and assume that this is not a push event on the desired branch. </p>

</div>
</div>
<a class="anchor" id="a327598396a1b40c158f4c83c104dde9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">is_travis_master_push </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>Environment variables</dt><dd><b>TRAVIS_EVENT_TYPE</b> Variable set by Travis CI during build-time, indicating event type. <br/>
 <b>TRAVIS_BRANCH</b> Variable set by Travis CI during build-time, indicating which branch we're on. <br/>
</dd></dl>
<p>Return a zero status code if this is referring to a push to the 'master' branch. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 12 2019 11:12:36 for cd-ci-glue by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
